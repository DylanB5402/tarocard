<!DOCTYPE html>
<html>
    <head>
        <title>Friends Page | Taro Cards</title>
        
        <link rel="icon" href="..\assets\TaroCardTransparent 1.png">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
        <script src="../jquery-3.6.0.min.js"></script>

        <link rel="stylesheet" href="../temp.css">
    </head>

    <div class="page-header">
        <a href="../profilePage/profilePageTaroCards.html"><img src="../assets/Back.png" id="back"></a>
        <span>Friends</span>
    </div>

    <div class="body" style="margin-top: 150px;">
        <div class="search">
            <div class="search-container">
                <input
                    type="text"
                    class="search-bar" 
                    id="friend-search"
                    placeholder="Search friends..."
                    name="search-bar-users">
                <button type="submit" class="search-button" id="search-button"><img src="../assets/search-bar.png" id="search-icon"></button>  
            </div>   
        </div>

        <div class="friends">
            <script>
                $(document).ready(function(){
                    $("#search-icon").click(function(){        
                        // $.get('https://my-json-server.typicode.com/VitalKilla/userData/db', 
                        $.post('/friends/search', 
                        {
                            "string": $("#searchBar").val()
                        }
                        ,function(data, status, xhr) {
                            // console.log(data)
                            searchFriends(data);
                            // populateFriends(data)
                        })
                    });
                });

                let div = document.querySelector(".search-container");
                let input = div.querySelector("input");

                input.addEventListener("keyup", function(event) {
                    if(event.keyCode == "13") {
                       document.getElementById("search-icon").click();
                    }
                })
            </script>
        </div>
    
    
            <template id="friendsTemp">
                <div id="headerElement">
                    <h1 id="letterHeading"></h1>
                    <hr id="headingLine">
                </div>
                <div class="friendElement">
                    <img>
                    <h2></h2>
                    <h3></h3>
                </div>
            </template>
        </div>
        
    </div>
        <div class="navbar" id="myNavbar">
            <a href="../homepage/home.html">
                <img id="navHomeIcon" src="..\assets\home.png" />
            </a>
        
            <a href="..\SearchUsers\SearchUsers.html">
                <img id="navSearchIcon" src="..\assets\search.png" />
            </a>
        
            <a href="..\Notifications\Notifications.html">
                <img id="navNotifsIcon" src="..\assets\notifs.png" />
            </a>
        
            <a href="../profilePage/profilePageTaroCards.html">
                <img id="navProfileIcon" src="..\assets\profile.png" />
            </a>
        </div>
    <script type="text/javascript" src="friendsJava.js"></script>
</html>